apiVersion: skaffold/v2beta28
kind: Config
metadata:
  name: vscode
build:
  artifacts:
  - image: gcr.io/dev-bytetoko/devbox
    context: .
    kaniko:
      dockerfile: Dockerfile
  # googleCloudBuild:
  #   projectId: dev-bytetoko
  #   machineType: E2_HIGHCPU_8
  cluster:
    namespace: kaniko
    serviceAccount: kaniko
    resources:
      requests:
        cpu: 4
        memory: 8Gi
        ephemeralStorage: 30Gi
      limits:
        cpu: 4
        memory: 8Gi
        ephemeralStorage: 30Gi
deploy:
  kustomize: {}
